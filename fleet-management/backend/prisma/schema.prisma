datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Driver {
  id        String   @id @default(cuid())
  name      String
  licenseId String
  inspections VehicleInspection[]
}

model Vehicle {
  id        String   @id @default(cuid())
  plate     String   @unique
  make      String?
  model     String?
  inspections VehicleInspection[]
}

model VehicleInspection {
  id            String   @id @default(cuid())
  type          String   // "preTrip" or "postTrip"
  driverId      String
  vehicleId     String
  timestamp     DateTime @default(now())

  odometerStart Int?
  odometerEnd   Int?
  fuelLevel     String?
  parkingSpot   String?

  damageNotes   String?
  leakNotes     String?
  unsafeEvents  String?
  mechanicalIssues String?
  overallCondition String?

  responses     Json

  driver  Driver  @relation(fields: [driverId], references: [id])
  vehicle Vehicle @relation(fields: [vehicleId], references: [id])
}
